# Модуль оплаты BeGateway для DIAFAN.CMS

## Системные требования

* PHP 5.6+
* [cURL](http://php.net/manual/en/book.curl.php)
* [DIAFAN.CMS](https://www.diafan.ru/) (модуль был разработан и протестирован с версией 6.0.4.0)

## Установка

1. Скачайте последнюю версию модуля https://github.com/begateway/diafan.cms-payment-module/releases
2. Распакуйте и загрузите директорию `modules` в корневую директорию вашей установки DIAFAN.CMS
3. После установки зайдите в панель администратора DIAFAN.CMS в раздел «Оплата»
4. На открывшейся странице «Методы оплаты» нажмите «Добавить».
5. В открывшемся окне для добавления нового метода оплаты укажите любое название, отметьте «Опубликовать на сайте», а в списке платежной системы выберите «BeGateway» и нажмите кнопку «Сохранить».
6. В списке методов оплаты появится Ваш новый метод, откройте его.
7. В открывшемся окне пропишите параметры настроек и нажмите кнопку «Сохранить».

## Тестирование

Вы можете использовать следующие данные, чтобы настроить способ оплаты в тестовом режиме

  * __ID магазина:__ 361
  * __Секретный ключ магазина:__ b8647b68898b084b836474ed8d61ffe117c9a01168d867f24953b776ddcb134d
  * __Домен страницы оплаты:__ checkout.begateway.com
  * __Режим работы:__ Тестовый

Используйте следующие данные карты для успешного тестового платежа:

  * Номер карты: 4200000000000000
  * Имя на карте: JOHN DOE
  * Месяц срока действия карты: 01/30
  * CVC: 123

Используйте следующие данные карты для неуспешного тестового платежа:

  * Номер карты: 4005550000000019
  * Имя на карте: JOHN DOE
  * Месяц срока действия карты: 01/30
  * CVC: 123
